@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}

<h2>Diagnostics</h2>

<form method="post" action="~/Diagnostics/SendEmail" role="form">
    <input type="text" name="to" placeholder="To Address" class="form-control" />
    <button type="submit" class="btn btn-primary">Send Test Email</button>
</form>
<br />
<form method="post" action="~/Diagnostics/SendActivationEmail" role="form">
    <input type="text" name="email" placeholder="User Email Address" class="form-control" />
    <button type="submit" class="btn btn-primary">Send Activation Email</button>
</form>
<br />
<form method="post" action="~/Diagnostics/SendResetPasswordEmail" role="form">
    <input type="text" name="email" placeholder="User Email Address" class="form-control" />
    <button type="submit" class="btn btn-primary">Send Reset Password Email</button>
</form>
<a href="~/Diagnostics/DropboxViewer" class="btn btn-primary">Dropbox Viewer</a>

<form method="post" action="~/Diagnostics/ConnectToBox" role="form">
    <button type="submit" class="btn btn-primary">Connect To Box</button>
</form>

<form method="post" action="~/Diagnostics/CreateBoxFolder" role="form">
    <button type="submit" class="btn btn-primary">Create a folder on Box</button>
</form>

<h3>Google Calendar - Get Calendars</h3>
<form method="post" action="~/Diagnostics/GetListOfGoogleCalendarsAsync" role="form">
    <input type="email" name="email" placeholder="User Email Address" class="form-control" />
    <button type="submit" class="btn btn-primary">Get</button>
</form>

<h3>Google Calendar - Get Events</h3>
<form method="post" action="~/Diagnostics/GetListOfEventsGoogleCalendarAsync" role="form">
    <input type="email" name="email" placeholder="User Email Address" class="form-control" />
    <input type="date" name="start" placeholder="Start Date" class="form-control" />
    <input type="date" name="end" placeholder="End Date" class="form-control" />
    <button type="submit" class="btn btn-primary">Get</button>
</form>

<h3>Google Calendar - Get Event</h3>
<form method="post" action="~/Diagnostics/GetEventGoogleCalendar" role="form">
    <input type="email" name="email" placeholder="User Email Address" class="form-control" />
    <input type="text" name="eventId" placeholder="Event Id" class="form-control" />
    <button type="submit" class="btn btn-primary">Get</button>
</form>

<h3>Google Calendar - Add Event</h3>
<form method="post" action="~/Diagnostics/AddEventToGoogleCalendar" role="form">
    <input type="email" name="email" placeholder="User Email Address" class="form-control" />
    <input type="datetime-local" name="start" placeholder="Start Date" class="form-control" />
    <button type="submit" class="btn btn-primary">Save</button>
</form>

<h3>Google Calendar - Update Event</h3>
<form method="post" action="~/Diagnostics/UpdateEventToGoogleCalendar" role="form">
    <input type="email" name="email" placeholder="User Email Address" class="form-control" />
    <input type="text" name="eventId" placeholder="Event Id" class="form-control" />
    <input type="datetime-local" name="start" placeholder="Start Date" class="form-control" />
    <button type="submit" class="btn btn-primary">Save</button>
</form>

<h3>Google Calendar - Add Attendee</h3>
<form method="post" action="~/Diagnostics/AddAttendeeToEventGoogleCalendar" role="form">
    <input type="email" name="ownerEmail" placeholder="Event Owner Email Address" class="form-control" />
    <input type="email" name="attendeeEmail" placeholder="Attendee Email Address" class="form-control" />
    <input type="text" name="eventId" placeholder="Event Id" class="form-control" />
    <button type="submit" class="btn btn-primary">Save</button>
</form>

<h3>Google Calendar - Remove Attendee</h3>
<form method="post" action="~/Diagnostics/RemoveAttendeeToEventGoogleCalendar" role="form">
    <input type="email" name="ownerEmail" placeholder="Event Owner Email Address" class="form-control" />
    <input type="email" name="attendeeEmail" placeholder="Attendee Email Address" class="form-control" />
    <input type="text" name="eventId" placeholder="Event Id" class="form-control" />
    <button type="submit" class="btn btn-primary">Save</button>
</form>

<h3>Google Calendar - Cancel Event</h3>
<form method="post" action="~/Diagnostics/CancelEventGoogleCalendar" role="form">
    <input type="email" name="email" placeholder="User Email Address" class="form-control" />
    <input type="text" name="eventId" placeholder="Event Id" class="form-control" />
    <button type="submit" class="btn btn-primary">Save</button>
</form>

<div><a href="~/Diagnostics/AuthorizationAttribute_WithCreateInvoiceFeature">AuthorizationAttribute_WithCreateInvoiceFeature</a></div>
<div><a href="~/Diagnostics/AuthorizationAttribute_WithCreateInvoiceAndReadInvoiceFeatures">AuthorizationAttribute_WithCreateInvoiceAndReadInvoiceFeatures</a></div>
<div><a href="~/Diagnostics/AuthorizationAttribute_WithNoFeatures">AuthorizationAttribute_WithNoFeatures</a></div>
<div><a href="~/Diagnostics/AuthorizationAttribute_NoAttribute">AuthorizationAttribute_NoAttribute</a></div>
<div><a href="#" onclick="authorizationAttribute_Async('@Url.Content("~/Diagnostics/AuthorizationAttribute_WithCreateInvoiceAndReadInvoiceFeatures")')">AuthorizationAttribute_WithCreateInvoiceAndReadInvoiceFeaturesAsync</a></div>
<div><a href="#" onclick="authorizationAttribute_Async('@Url.Content("~/Diagnostics/AuthorizationAttribute_WithCreateInvoiceFeature")')">AuthorizationAttribute_WithCreateInvoiceFeatureAsync</a></div>
<div><a href="#" onclick="authorizationAttribute_Async('@Url.Content("~/Diagnostics/AuthorizationAttribute_WithNoFeatures")')">AuthorizationAttribute_WithNoFeaturesAsync</a></div>

<h3>Google Email Service</h3>
<form method="post" action="~/Diagnostics/SendEmailFrom" role="form">
    <input type="email" name="from" placeholder="From" class="form-control" />
    <input type="email" name="to" placeholder="To" class="form-control" />
    <button type="submit" class="btn btn-primary">Send Email From</button>
</form>

@section Scripts {
    <script type="text/javascript">
        function authorizationAttribute_Async(url) {
            $.get(url)
                .done(function (data, textStatus, xhr) {
                    toastr.success("You have access to this feature");
                })
                .fail(function(xhr) {
                    if (xhr.status == 403) {
                        toastr.warning("You do not have access to this feature");
                    }
                    else
                        toastr.warning("Sorry. An unexpected error occurred.");
                })
                .always(function() {
                    toastr.info("Finished");
                });
        };
    </script>
    }