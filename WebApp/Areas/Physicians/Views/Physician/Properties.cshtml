@using Enums = ImeHub.Models.Enums
@model ReadOnlyViewModel

<div>
    <div style="margin-bottom: 15px;">
        <div class="btn-group">
            @if (Model.Owner != null)
            {
                if (Model.Owner.AcceptanceStatusId == Enums.AcceptanceStatus.NotSent)
                {
                    <a href="~/Physicians/Physician/SendOwnerInvitationEmail?physicianId=@Model.Id">Send Invite</a>
                    <button type="button" class="btn btn-primary" onclick="sendOwnerInvitationEmail('@Model.Id')">Send Invite</button>
                }
                else if (Model.Owner.AcceptanceStatusId == Enums.AcceptanceStatus.NotResponded)
                {
                    <button type="button" class="btn btn-primary" onclick="sendOwnerInvitationEmail('@Model.Id')">ReSend Invite</button>
                }
                else if (Model.Owner.AcceptanceStatusId == Enums.AcceptanceStatus.Rejected)
                {
                    <button type="button" class="btn btn-primary" onclick="showOwnerInvitationForm('@Model.Id')">Set Owner</button>
                }
                else
                {
                    <button type="button" class="btn btn-primary" onclick="showOwnerInvitationForm('@Model.Id')">Transfer Ownership</button>
                }
            }
            else
            {
                <button type="button" class="btn btn-primary" onclick="showOwnerInvitationForm('@Model.Id')">Set Owner</button>
            }
            <button type="button" class="btn btn-default" onclick="showEditPhysicianForm('@Model.Id')">Edit</button>
            <button type="button" class="btn btn-default">Delete</button>
        </div>
    </div>

    <form id="physician-readonly-form">
        <div class="form-group">
            <label class="control-label">Company Name</label>
            <div>
                <p class="form-control-static">@Model.CompanyName</p>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label">Code</label>
            <div>
                <p class="form-control-static">@Model.Code</p>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label">Color</label>
            <div>
                <input type="color" id="ColorCode" name="ColorCode" disabled class="form-control" value="@Model.ColorCode" style="max-width:100px;" />
            </div>
        </div>
        <div class="form-group">
            <label class="control-label">Owner</label>
            <div>
                @if (Model.Owner == null)
                {
                    <p class="form-control-static text-muted text">Not set</p>

                }
                else
                {
                    <div>
                        @if (Model.Owner.AcceptanceStatusId == Enums.AcceptanceStatus.NotSent)
                        {
                            <span>Invite was prepared but has <strong>not been sent</strong>.</span>
                        }
                        else if (Model.Owner.AcceptanceStatusId == Enums.AcceptanceStatus.NotResponded)
                        {
                            <span>Invite was sent to @Model.Owner.Email on @Model.Owner.AcceptanceStatusChangedDate and has <strong>not responded</strong>.</span>
                        }
                        else if (Model.Owner.AcceptanceStatusId == Enums.AcceptanceStatus.Rejected)
                        {
                            <span>Invite was sent to @Model.Owner.Email on @Model.Owner.AcceptanceStatusChangedDate</span>
                        }
                        else
                        {
                            <span>Invite was accepted by @Model.Owner.Email on @Model.Owner.AcceptanceStatusChangedDate</span>
                        }
                    </div>
                }
            </div>
        </div>
        <div class="form-group">
            <label class="control-label">Manager</label>
            <div>
                <p class="form-control-static">@Model.Manager.Name</p>
            </div>
        </div>
    </form>
</div>
