<script type="text/javascript">

    function navigateToTeamRole(teamRoleId) {
        refreshTeamRoleList(teamRoleId);
    }

    function showNewTeamRoleForm() {
        var url = '@Url.Content("~/Team/TeamRole/ShowTeamRoleForm")';

        $.get(url)
        .done(function (result) {
            $('#modal-content').html(result);
            $('#modal-container').modal('toggle');
        });
    }

    function saveNewTeamRoleForm(form) {
        var url = '@Url.Content("~/Team/TeamRole/SaveTeamRoleForm")';

        $.post(url,
            form.serialize()
        )
        .done(function (result) {
            $('#modal-container').modal('toggle');
            toastr.success("Team role added successfully");
            refreshTeamRoleList(result.id);
        }).error(function (result) {
            $('#modal-content').html(result.responseText);
        });
    }
    
    function removeTeamRole(teamRoleId) {
        var url = '@Url.Content("~/Team/TeamRole/Remove")';

        $.post(url, {
            teamRoleId: teamRoleId
        })
        .done(function () {
            toastr.success("Team role removed successfully");
            refreshTeamRoleList();
        });
    }
    
    // Refresh functions
    function refreshTeamRoleList(teamRoleId) {
        let url = '@Url.Content("~/Team/TeamRole/List")';
        $.get(url, {
            teamRoleId: teamRoleId
        })
            .done(function (result) {
                $('#teamrole-list-container').html(result);
            });
    }

</script>
