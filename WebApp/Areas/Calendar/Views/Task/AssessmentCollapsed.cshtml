@model CaseLinkViewModel

<section class="caselink-row" onclick="selectAssessment(event, @Model.ServiceRequestId)">
    <div class="caselink-cell caselink-physician">
        @Html.Partial("~/Views/Shared/_Initials2.cshtml", Model.Physician == null ? new LookupViewModel<Guid>() : Model.Physician)
    </div>
    <div class="caselink-cell caselink-service">
        <strong style="color: @Model.Service.ColorCode;">@Model.Service.Code</strong>
    </div>
    <div class="caselink-cell caselink-status">
        @if ((Model.NextTaskStatusForUser == null ? 0 : Model.NextTaskStatusForUser.Id) == TaskStatuses.Obsolete)
        {
            <span id="assessment-total-label" class="fa fa-frown-o" style="color: dodgerblue;" title="@(Model.CancellationViewModel.IsNoShow ? "No Show" : "Late Cancellation")">&nbsp;</span>
        }
        else if ((Model.NextTaskStatusForUser == null ? 0 : Model.NextTaskStatusForUser.Id) == TaskStatuses.ToDo)
        {
            <span id="assessment-total-label" style="color: red;" class="small label label-danger">&nbsp;</span>
        }
        else if ((Model.NextTaskStatusForUser == null ? 0 : Model.NextTaskStatusForUser.Id) == TaskStatuses.Waiting)
        {
            <span id="assessment-total-label" style="cursor: pointer;" class="small label label-warning">&nbsp;</span>
        }
        else if ((Model.NextTaskStatusForUser == null ? 0 : Model.NextTaskStatusForUser.Id) == TaskStatuses.OnHold)
        {
            <span id="assessment-total-label" style="cursor: pointer;" class="small label label-info">&nbsp;</span>
        }
        else
        {
            <span id="assessment-total-label" class="fa fa-check" style="color: green;">&nbsp;</span>
        }
    </div>
    <div class="caselink-cell caselink-time">
        @Model.StartTime.ToShortTimeSafe()
    </div>
    <div class="caselink-cell caselink-title">
        @if (Model.HasNotes)
        {
            <i class="fa fa-sticky-note" style="color:goldenrod;"></i>
        }
        <span>@Model.ClaimantName</span>
        <span>@Html.Partial("_ServiceStatusLabel2", Model.CancellationViewModel)</span>
            @foreach (var resource in Model.Resources.Where(r => r.Role != null && r.Role.Id != AspNetRoles.CaseCoordinator))
            {
                <span>@Html.Partial("~/Views/Shared/_Initials2.cshtml", resource.Person)</span>
            }        
    </div>
</section>