@using WebApp.Library
@using e = Orvosi.Shared.Enums
@model Orvosi.Data.ServiceRequestTask

@if (Model.GetStatus(SystemTime.Now()) == e.TaskStatuses.Done)
{
    <form method="post" action="@(Url.Content("~/servicerequesttask/markasincomplete"))">
        @Html.AntiForgeryToken()
        @Html.Hidden("id", Model.Id)
        <button class="btn btn-success btn-circle">
            <i class="glyphicon glyphicon-ok"></i>
        </button>
    </form>
}
else if (Model.GetStatus(SystemTime.Now()) == e.TaskStatuses.ToDo)
{
    <form method="post" action="@(Url.Content("~/servicerequesttask/markascomplete"))">
        @Html.AntiForgeryToken()
        @Html.Hidden("id", Model.Id)
        <button class="btn btn-default btn-circle"></button>
    </form>
}
else if (Model.GetStatus(SystemTime.Now()) == e.TaskStatuses.Waiting)
{
    <form method="post" action="@(Url.Content("~/servicerequesttask/markascomplete"))">
        @Html.AntiForgeryToken()
        @Html.Hidden("id", Model.Id)
        <button class="btn btn-warning btn-circle">
            <i class="glyphicon glyphicon-hourglass"></i>
        </button>
    </form>
}
else if (Model.GetStatus(SystemTime.Now()) == e.TaskStatuses.Obsolete)
{
    <form method="post" action="@(Url.Content("~/servicerequesttask/toggleobsolete"))">
        @Html.AntiForgeryToken()
        @Html.Hidden("id", Model.Id)
        <button class="btn btn-info btn-circle">
            <i class="glyphicon glyphicon-minus"></i>
        </button>
    </form>
}

