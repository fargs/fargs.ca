
@model ImeHub.Portal.Pages.Shared.InvoiceTemplates.DefaultModel
@using ImeHub.Portal.Extensions

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <script src="https://use.fontawesome.com/3877822095.js"></script>
    <style type="text/css">
        body {
            font-family: Arial;
        }

        .header {
            width: 100%;
            background-color: lightgray;
            padding: 10px;
            margin-top: 5px;
            margin-bottom: 5px;
        }

        .text-right {
            text-align: right;
        }

        .text-left {
            text-align: left;
        }

        th,
        td {
            padding: 10px;
        }

        table thead tr:first-child {
            border-bottom: 1px solid gray !important;
        }

        table tfoot tr:first-child {
            border-top: 1px dashed gray !important;
        }

        table tfoot tr:last-child {
            border-top: 1px solid gray !important;
            border-bottom: 1px solid gray !important;
        }

        dt {
            float: left;
            clear: both;
        }

        dd {
            float: right;
            margin-left: 50px;
        }

        hr {
            display: block;
            height: 1px;
            border: 0;
            border-top: 1px solid darkgray;
            margin: 1em 0;
            padding: 0;
        }

        .right-header {
            float: right;
            font-family: Arial;
            text-align: right;
        }
    </style>
</head>

<body>
    <div style="width:100%;">
        <div style="display:block;width:100%;">
            <div class="h1" style="float:left">@Model.Invoice.ServiceProviderName</div>

            <div class="right-header">
                <strong>@Model.Invoice.ServiceProviderName</strong>
                <p>
                <div class="small">@Model.Invoice.ServiceProviderAddress1</div>
                <div class="small">@Model.Invoice.ServiceProviderAddress2</div>
                <div class="small">@(string.Format("{0}, {1} {2}", Model.Invoice.ServiceProviderCity,
                    Model.Invoice.ServiceProviderProvince, Model.Invoice.ServiceProviderCountry))</div>
                <div class="small">@Model.Invoice.ServiceProviderPostalCode</div>
                </p>
                <div><strong>E: </strong>@Model.Invoice.ServiceProviderEmail</div>
                <div><strong>GST/HST: </strong>@Model.Invoice.ServiceProviderHstNumber</div>
            </div>
        </div>
        <div style="clear: both"></div>
        <div style="padding: 5px; margin-top: 40px;">
            <div style="padding-bottom: 5px;">
                <strong>Bill To:</strong>
            </div>
            <div style="float: left;">
                <h1>@Model.Invoice.CustomerName</h1>
                <div>@Model.Invoice.CustomerAddress1</div>
                <div>@Model.Invoice.CustomerAddress2</div>
                <div>@(string.Format("{0}, {1} {2}", Model.Invoice.CustomerCity, Model.Invoice.CustomerProvince,
                    Model.Invoice.CustomerCountry))
                </div>
                <div>@Model.Invoice.CustomerPostalCode</div>
                <div>@Model.Invoice.CustomerEmail</div>
            </div>
            <div style="float:right;">
                <h1 style="text-align: right; color: darkred;">
                    <strong>INVOICE</strong>
                </h1>
                <dl style="text-align: right;">
                    <dt>Invoice Number</dt>
                    <dd style="float: right;margin-left: 50px;">@Model.Invoice.InvoiceNumber</dd>
                    <dt>Invoice Date</dt>
                    <dd>
                        @Model.Invoice.InvoiceDate.ToIsoDate()
                    </dd>
                    <dt>Payment Terms</dt>
                    <dd>NET @Model.Invoice.Terms Days</dd>
                </dl>
            </div>
            <div style="clear: both;"></div>
            <div style="margin-bottom: 40px;"></div>
            <strong style="float:left;">Description</strong>
            <strong style="float:right;">Amount</strong>
            @foreach (var item in Model.Invoice.InvoiceDetails)
            {
                <div style="clear:both;"></div>
                <hr style="margin-top: 0;" />
                <div style="float:left;">
                    <span style="white-space: pre-line;">@Html.Raw(item.Description)</span>
                    <br />
                    @if (!string.IsNullOrEmpty(item.DiscountDescription))
                    {
                        <div style="color:darkred;"><strong>@item.DiscountDescription</strong></div>
                        <br />
                    }
                    @if (!string.IsNullOrEmpty(Model.Invoice.InvoiceDetails.First().AdditionalNotes))
                    {
                        <label style="padding-top: 10px;">Notes</label>
                        <div>@item.AdditionalNotes</div>
                    }
                </div>
                <div style="float:right;">
                    <div class="text-right">@item.Total.Value.ToString("C2")</div>
                </div>
            }
            <div style="clear:both;"></div>
            <hr style="margin-top: 0; border-style:dashed;" />
            <div style="float:left;">
                <div class="text-right"><strong>Sub-Total</strong></div>
                <div class="text-right"><strong>Tax (@Model.Invoice.TaxRateHst.Value.ToString("0%"))</strong></div>
            </div>
            <div style="float:right;">
                <div class="text-right"><strong>@Model.Invoice.SubTotal.Value.ToString("C2")</strong></div>
                <div class="text-right"><strong>@Model.Invoice.Hst.Value.ToString("C2")</strong></div>
            </div>
            <div style="clear:both;"></div>
            <hr style="margin-top: 0;" />
            <div style="float:left;">
                <h2 class="text-right">Total</h2>
            </div>
            <div style="float:right;">
                <h2 class="text-right">@Model.Invoice.Total.Value.ToString("C2")</h2>
            </div>
        </div>
        <div style="clear: both;"></div>
        <div class="header" style="text-align: center; margin-top: 40px;">
            All cheques payable to @Model.Invoice.ServiceProviderName. Thank you for your referral.
        </div>
    </div>
</body>

</html>
