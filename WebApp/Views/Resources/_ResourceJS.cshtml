
<script type="text/javascript">

    function showRequiredResourcesForm(serviceRequestId) {
        var url = '@Url.Content("~/Resources/ShowRequiredResourcesForm")';

        $.get(url, {
            serviceRequestId: serviceRequestId
        }).done(function (result) {
            $('#modal-content').html(result);
            $('#modal-container').modal('toggle');
        });
    }

    function showResourceForm(serviceRequestId, resourceId) {
        var url = '@Url.Content("~/Resources/ShowResourceForm")';

        $.get(url, {
            serviceRequestId: serviceRequestId,
            resourceId: resourceId
        }).done(function (result) {
            $('#modal-content').html(result);
            $('#modal-container').modal('toggle');
        });
    }

    function saveResource(form) {

        var url = '@Url.Content("~/Resources/SaveResource")';
        var notifyUrl = '@Url.Content("~/Resources/NotifyTeam")';

        $.post(url,
            form.serialize()
        ).done(function (data) {
            $('#modal-container').modal('toggle');
            toastr.success("Saved successfully.");
            resourcesChanged(data.serviceRequestId);
        }).error(function (result) {
            $('#modal-content').html(result.responseText);
        });
    }

    function saveResources(form) {

        var url = '@Url.Content("~/Resources/SaveResources")';
        var notifyUrl = '@Url.Content("~/Resources/NotifyTeam")';

        $.post(url,
            form.serialize()
        ).done(function (data) {
            $('#modal-container').modal('toggle');
            toastr.success("Saved successfully.");
            resourcesChanged(data.serviceRequestId);

        }).error(function (result) {
            $('#modal-content').html(result.responseText);
        });
    }

    function showDeleteResourceForm(resourceId) {
        var url = '@Url.Content("~/Resources/ShowDeleteResourceForm")';

        $.get(url, {
            resourceId: resourceId
        }).done(function (result) {
            $('#modal-content').html(result);
            $('#modal-container').modal('toggle');
        });
    }

    function deleteResource(resourceId) {

        var url = '@Url.Content("~/Resources/DeleteResource")';

        $.post(url,
            { resourceId: resourceId }
        ).done(function (data) {
            $('#modal-container').modal('toggle');
            toastr.success("Deleted successfully.");
            resourcesChanged(data.serviceRequestId);
        }).error(function (result) {
            $('#modal-content').html(result.responseText);
        });
    };

    function resourcesChanged(serviceRequestId) {

    };

</script>